$(document).ready(function(){var t,o,e=$(".container"),r=$(".parallax"),s=0,i=$("nav");r.imagesLoaded({background:!0}).done(function(t){r.addClass("lazyloaded")}),$(window).scroll(function(){s=$(window).scrollTop(),o=s-r.offset().top,t=e.offset().top,s<t&&r.css("backgroundPositionY",s/2+"px"),s>t&&i.addClass("sticky"),0===s&&i.removeClass("sticky")}),$.get("https://ochremusic.com/api/spotify",function(t){$("#followers .spotify").html(t.spotify)}),$.get("https://ochremusic.com/api/soundcloud",function(t){$("#followers .soundcloud").html(t.soundcloud)}),$.get("https://ochremusic.com/api/facebook",function(t){$("#followers .facebook").html(t.facebook)}),$.get("https://ochremusic.com/api/twitter",function(t){$("#followers .twitter").html(t.twitter)}),$.get("https://ochremusic.com/api/mailchimp",function(t){$("aside #mailchimp").html("Join "+t.mailchimp+" subscribers and")})}),$("#list-subscribe").submit(function(t){t.preventDefault();var o=$("input:submit",$(this)),e=o.val();o.prop("disabled",!0).val("Sending…");var r=$(this).attr("action"),s=$(this).serialize();$.post(r,s,function(t){return o.prop("disabled",!1).val(e),t.error&&"subscribed"===t.status?($("#list-res-error").html("Error: "+t.error),void $("#list-res").html('You can update your profile <a href="'+t.updateUrl+'">here</a>.')):!t.error||"unsubscribed"!==t.status&&"pending"!==t.status?t.error?($("#list-res-error").html("Error: "+t.error),void $("#list-res").empty()):($("#list-res-error").empty(),void $("#list-res").html(t.success)):($("#list-res-error").html("Error: "+t.error),void $("#list-res").html('You can always resubscribe <a href="http://eepurl.com/gphAPb">here</a>. You will receive a confirmation opt-in email.'))})});var $contactForm=$("#contact-form");$contactForm.submit(function(t){t.preventDefault();var o=$("input:submit",$contactForm),e=o.val();$.post({url:"https://ochremusic.com/api/contact",data:$(this).serialize(),dataType:"json",beforeSend:function(){o.prop("disabled",!0).val("Sending message…")},success:function(t){$contactForm.append("<div class='success'>"+t.success+"</div>"),o.val("Message sent!"),$("#contact-form")[0].reset(),setTimeout(function(){$(".success").fadeOut(function(){$(this).remove()}),o.prop("disabled",!1).val(e)},5e3)},error:function(t){$contactForm.append("<div class='error'>"+t.error+"</div>"),o.val("Sending failed!"),setTimeout(function(){$(".error").fadeOut(function(){$(this).remove()}),o.prop("disabled",!1).val(e)},5e3)}})});